---
# Ansible-lint configuration for ansible-devops-workstation
# Phase 4: Using moderate profile

# Base profile: basic -> moderate -> production
# https://ansible-lint.readthedocs.io/en/latest/rules/
# Using production profile - FQCN applied
profile: production

# Skip rules that cause noise in this project
skip_list:
  - name[casing]  # Task names don't need uppercase
  - name[play]  # Plays don't need names
  - no-free-form  # Allow free-form module options
  - jinja[spacing]  # Jinja spacing is flexible
  - command-instead-of-shell  # Complex scripts need shell
  - command-instead-of-module  # curl/wget needed for dynamic versions
  - schema[tasks]  # Some task files have minor schema issues
  - literal-compare  # Allow explicit True/False comparisons
  - deprecated-module  # 'include' is deprecated but works
  - deprecated-local-action  # External role uses local_action
  - meta-runtime  # External roles may have outdated meta
  - risky-shell-pipe  # Shell pipes need pipefail but complex scripts need this
  - risky-file-permissions  # Some files need specific permissions
  - yaml[line-length]  # Allow long lines for readability
  - no-handler  # Tasks that should be handlers are intentional
  - no-changed-when  # Commands that intentionally don't change state
  - package-latest  # Some packages intentionally use latest
  - ignore-errors  # External roles may use ignore_errors

# Exclude external roles from linting
exclude_paths:
  - roles/ocsinventory-agent/
  - roles/locales/
  - roles/vmware-workstation/

# Warn about issues but don't fail
warn_list: []
